<div ng-include="'components/navbar/navbar.html'"></div>

<!--
<header class="hero-unit" id="banner">
  <div class="container">
    <h1>'Allo, 'Allo!</h1>
    <p class="lead">Kick-start your next web app with Angular Fullstack</p>
    <img src="assets/images/yeoman.png" alt="I'm Yeoman">
  </div>
</header>
-->

<div class="container">

  <div class="row">
    <div class="col-12">
      <!--<h2>Video player</h2>-->

      <div class="videogular-container">

        <videogular vg-player-ready="onPlayerReady($API)" vg-theme="config.theme.url" vg-autoplay="config.autoPlay" vg-complete="onCompleteVideo()">

          <vg-media vg-src="config.sources"
                    vg-tracks="config.tracks"
                    vg-native-controls="true"
                    vg-youtube="rel=1;showinfo=1;controls=0">
          </vg-media>

          <vg-controls>
            <vg-play-pause-button></vg-play-pause-button>
            <vg-time-display>{{ currentTime | date:'mm:ss' }}</vg-time-display>
            <vg-scrub-bar>
              <vg-scrub-bar-current-time></vg-scrub-bar-current-time>
            </vg-scrub-bar>
            <vg-time-display>{{ timeLeft | date:'mm:ss' }}</vg-time-display>
            <vg-volume>
              <vg-mute-button></vg-mute-button>
              <vg-volume-bar></vg-volume-bar>
            </vg-volume>
            <vg-fullscreen-button></vg-fullscreen-button>
          </vg-controls>

          <vg-poster-image vg-url='config.plugins.poster.url'></vg-poster-image>
          <!--
          <vg-buffering></vg-buffering>
          <vg-overlay-play vg-play-icon="config.theme.playIcon"></vg-overlay-play>
          -->
        </videogular>

      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <div>Now Playing: {{ currentVideo.title }}</h2></div>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">

      <div id="addVideoForm">
        <form class="thing-form" >
          <p class="input-group">

            <input type="text" ng-model="newSong" placeholder="Add a new song from Youtube here." typeahead="video as video.snippet.title for video in searchYoutube($viewValue) | filter: $viewValue" typeahead-loading="loadingLocations" typeahead-wait-ms="5" class="form-control">

            <!--<i ng-show="loadingLocations" class="glyphicon glyphicon-refresh"></i>-->

                <span class="input-group-btn">
                  <button type="submit" class="btn btn-default" ng-click="addSong()">Add New</button>
                </span>
          </p>
        </form>
      </div>

    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">Playlist:</h1>
      <div ng-repeat="video in videos | orderBy : '-score'" ng-animate="{enter: 'example-repeat-enter', leave: 'example-repeat-leave', move: 'example-repeat-move'}">
        <div class="playList">
          <b>{{ $index }}: {{ video.title }}</b>
          Score: {{ video.score }}
          Votes: {{ video.votes.length }}
          <button class="btn btn-default rubberBand" ng-click="voteFor(video)">Vote ‚ù§</button>
        </div>
      </div>
    </div>
  </div>

  <!--
<footer class="footer">
  <div class="container">
    <p></p>
  </div>
</footer>
-->
